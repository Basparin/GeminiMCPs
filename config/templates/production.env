# CES Production Environment Configuration
# Copy this file to .env and update with your production values

# Environment
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# Server Configuration
HOST=0.0.0.0
PORT=8001
WORKERS=4
WORKER_CLASS=uvicorn.workers.UvicornWorker

# Database Configuration
DATABASE_URL=postgresql://ces_user:${POSTGRES_PASSWORD}@ces-postgres:5432/ces_prod
REDIS_URL=redis://ces-redis:6379/0

# AI API Keys (Required)
GROQ_API_KEY=your_groq_api_key_here
GOOGLE_API_KEY=your_google_api_key_here
OPENROUTER_API_KEY=your_openrouter_api_key_here

# Optional AI API Keys
ANTHROPIC_API_KEY=
OPENAI_API_KEY=

# Security Configuration
SECRET_KEY=your_very_long_random_secret_key_here_32_chars_minimum
JWT_SECRET_KEY=your_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS Configuration
CORS_ORIGINS=["https://yourdomain.com", "https://www.yourdomain.com"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=10

# Cache Configuration
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE_MB=256

# File Upload Configuration
MAX_UPLOAD_SIZE_MB=10
ALLOWED_FILE_TYPES=[".txt", ".md", ".py", ".js", ".json", ".yaml", ".yml"]

# Monitoring Configuration
PROMETHEUS_METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL_SECONDS=30

# Plugin Configuration
PLUGIN_AUTO_DISCOVERY=true
PLUGIN_SECURITY_ENABLED=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=30

# SSL Configuration
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/ces.crt
SSL_KEY_PATH=/etc/ssl/private/ces.key

# Email Configuration (for notifications)
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
FROM_EMAIL=noreply@yourdomain.com

# External Service URLs
GRAFANA_URL=http://ces-grafana:3000
PROMETHEUS_URL=http://ces-prometheus:9090
ALERTMANAGER_URL=http://ces-alertmanager:9093

# Docker Registry (for deployments)
DOCKER_REGISTRY=your-registry.com
DOCKER_REGISTRY_USERNAME=your_username
DOCKER_REGISTRY_PASSWORD=your_password

# PostgreSQL Configuration
POSTGRES_PASSWORD=your_secure_postgres_password_here
POSTGRES_MAX_CONNECTIONS=20
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB
POSTGRES_WORK_MEM=4MB
POSTGRES_MAINTENANCE_WORK_MEM=64MB
POSTGRES_CHECKPOINT_COMPLETION_TARGET=0.9
POSTGRES_WAL_BUFFERS=16MB
POSTGRES_DEFAULT_STATISTICS_TARGET=100

# Redis Configuration
REDIS_MAX_MEMORY=256mb
REDIS_MAX_MEMORY_POLICY=allkeys-lru
REDIS_TCP_KEEPALIVE=300
REDIS_TIMEOUT=300

# Nginx Configuration
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024
NGINX_CLIENT_MAX_BODY_SIZE=10m
NGINX_PROXY_READ_TIMEOUT=60s
NGINX_PROXY_SEND_TIMEOUT=60s
NGINX_PROXY_CONNECT_TIMEOUT=60s

# Grafana Configuration
GRAFANA_PASSWORD=your_secure_grafana_password_here

# Alert Manager Configuration
ALERTMANAGER_SMTP_FROM=noreply@yourdomain.com
ALERTMANAGER_SMTP_SMARTHOST=smtp.gmail.com:587
ALERTMANAGER_SMTP_AUTH_USERNAME=your_email@gmail.com
ALERTMANAGER_SMTP_AUTH_PASSWORD=your_app_password

# Log Configuration
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5
LOG_FORMAT=json

# Performance Tuning
MAX_CONCURRENT_REQUESTS=100
REQUEST_TIMEOUT_SECONDS=30
CONNECTION_POOL_SIZE=10
CONNECTION_POOL_MAX_OVERFLOW=20

# Feature Flags
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_PLUGIN_SYSTEM=true
ENABLE_COLLABORATIVE_FEATURES=true
ENABLE_REAL_TIME_MONITORING=true
ENABLE_AUTO_BACKUPS=true
ENABLE_SSL_REDIRECT=true

# Third-party Integrations
SLACK_WEBHOOK_URL=
DISCORD_WEBHOOK_URL=
WEBHOOK_SECRET_KEY=

# Compliance and Security
ENABLE_AUDIT_LOGGING=true
ENABLE_DATA_ENCRYPTION=true
ENABLE_RATE_LIMITING=true
ENABLE_IP_WHITELIST=false
ALLOWED_IPS=["127.0.0.1", "10.0.0.0/8", "172.16.0.0/12", "192.168.0.0/16"]

# Cost Optimization
ENABLE_COST_MONITORING=true
COST_ALERT_THRESHOLD=100.0
COST_ALERT_EMAIL=admin@yourdomain.com

# Maintenance
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System is under maintenance. Please try again later."