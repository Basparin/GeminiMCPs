# CodeSage MCP Server - High-Performance Environment Configuration
# =================================================================
# This configuration is optimized for maximum performance with
# enterprise-grade features and maximum resource utilization.

# =================================================================
# LLM API CONFIGURATION
# =================================================================

# Primary LLM Provider (choose one - high-performance models)
GROQ_API_KEY="your-high-performance-groq-api-key"
# OPENROUTER_API_KEY="your-high-performance-openrouter-api-key"
# GOOGLE_API_KEY="your-high-performance-google-api-key"

# =================================================================
# PERFORMANCE & MEMORY CONFIGURATION
# =================================================================

# Memory Management (Maximum Resources)
CODESAGE_MEMORY_LIMIT=4GB
CODESAGE_MAX_MEMORY_MB=8192
CODESAGE_ENABLE_MEMORY_MONITORING=true
CODESAGE_MEMORY_CHECK_INTERVAL=10

# Model Optimization (Maximum Performance)
CODESAGE_ENABLE_MODEL_QUANTIZATION=false
CODESAGE_MODEL_CACHE_TTL_MINUTES=240
CODESAGE_ENABLE_MEMORY_MAPPED_INDEXES=true

# =================================================================
# CACHING CONFIGURATION
# =================================================================

# Cache Sizes (Maximum Performance)
CODESAGE_EMBEDDING_CACHE_SIZE=50000
CODESAGE_SEARCH_CACHE_SIZE=10000
CODESAGE_FILE_CACHE_SIZE=2000

# Cache Behavior (Optimized for Speed)
CODESAGE_SIMILARITY_THRESHOLD=0.95
CODESAGE_MAX_FILE_SIZE_MB=5
CODESAGE_CACHE_PERSISTENCE_ENABLED=true
CODESAGE_CACHE_WARMING_ENABLED=true

# Advanced Caching
CODESAGE_ADAPTIVE_CACHE_ENABLED=true
CODESAGE_MEMORY_THRESHOLD_HIGH=0.9
CODESAGE_MEMORY_THRESHOLD_LOW=0.2
CODESAGE_PREFETCH_ENABLED=true
CODESAGE_MAX_PREFETCH_FILES=20
CODESAGE_DEPENDENCY_TRACKING_ENABLED=true
CODESAGE_DEPENDENCY_INVALIDATION_DEPTH=5

# =================================================================
# PROCESSING CONFIGURATION
# =================================================================

# Parallel Processing (Maximum Parallelization)
CODESAGE_PARALLEL_WORKERS=16
CODESAGE_BATCH_SIZE=500
CODESAGE_MAX_FILE_SIZE_MB=5

# Index Optimization (Enterprise Grade)
CODESAGE_INDEX_COMPRESSION=true
CODESAGE_INDEX_COMPRESSION_TYPE=ivf_pq
CODESAGE_INDEX_TYPE=auto
CODESAGE_FAISS_NLIST_AUTO=true
CODESAGE_TARGET_MEMORY_MB=4000

# =================================================================
# SEARCH CONFIGURATION
# =================================================================

# Search Parameters (Maximum Accuracy)
CODESAGE_DEFAULT_TOP_K=10
CODESAGE_MAX_TOP_K=50
CODESAGE_SEMANTIC_SEARCH_ENABLED=true
CODESAGE_TEXT_SEARCH_ENABLED=true
CODESAGE_HYBRID_SEARCH_WEIGHT=0.7

# Search Optimization (Enterprise Features)
CODESAGE_SEARCH_CACHE_ENABLED=true
CODESAGE_SEARCH_CACHE_SIZE=5000
CODESAGE_SEARCH_CACHE_SIMILARITY_THRESHOLD=0.95
CODESAGE_SEARCH_BATCH_SIZE=20
CODESAGE_SEARCH_TIMEOUT=5

# =================================================================
# LOGGING & MONITORING
# =================================================================

# Logging (Comprehensive)
CODESAGE_LOG_LEVEL=INFO
CODESAGE_LOG_FORMAT=json
CODESAGE_LOG_FILE=/var/log/codesage/codesage.log
CODESAGE_LOG_MAX_SIZE=5GB
CODESAGE_LOG_BACKUP_COUNT=20

# Performance Logging (Detailed)
CODESAGE_PERFORMANCE_LOGGING_ENABLED=true
CODESAGE_SLOW_QUERY_THRESHOLD=0.5
CODESAGE_DETAILED_PERFORMANCE_LOGGING=true

# Monitoring (Enterprise Grade)
CODESAGE_HEALTH_CHECK_ENABLED=true
CODESAGE_METRICS_PORT=9090
CODESAGE_PERFORMANCE_MONITORING_ENABLED=true
CODESAGE_METRICS_COLLECTION_INTERVAL=15
CODESAGE_ADVANCED_METRICS_ENABLED=true

# =================================================================
# SECURITY CONFIGURATION
# =================================================================

# API Security (Enterprise)
CODESAGE_API_KEY_REQUIRED=true
CODESAGE_API_KEY="your-enterprise-api-key"
CODESAGE_ALLOWED_ORIGINS=https://your-enterprise-domain.com
CODESAGE_ENCRYPT_SENSITIVE_DATA=true
CODESAGE_MASK_API_KEYS_IN_LOGS=true

# Network Security (Enterprise)
CODESAGE_ENABLE_HTTPS=true
CODESAGE_SSL_CERT_PATH=/etc/ssl/certs/codesage.crt
CODESAGE_SSL_KEY_PATH=/etc/ssl/private/codesage.key
CODESAGE_ENABLE_CLIENT_CERT_AUTH=false

# =================================================================
# ENTERPRISE FEATURES
# =================================================================

# Reliability (Enterprise)
CODESAGE_ENABLE_CIRCUIT_BREAKER=true
CODESAGE_CIRCUIT_BREAKER_FAILURE_THRESHOLD=10
CODESAGE_CIRCUIT_BREAKER_RECOVERY_TIMEOUT=30
CODESAGE_ENABLE_RETRY_LOGIC=true
CODESAGE_MAX_RETRIES=5

# Scalability (Enterprise)
CODESAGE_ENABLE_LOAD_BALANCING=true
CODESAGE_LOAD_BALANCER_HEALTH_CHECK_INTERVAL=5
CODESAGE_CONNECTION_POOL_SIZE=50
CODESAGE_ENABLE_AUTO_SCALING=true
CODESAGE_SCALING_METRIC=cpu
CODESAGE_SCALING_TARGET=70

# Advanced Features
CODESAGE_ENABLE_DISTRIBUTED_CACHE=false
CODESAGE_REDIS_CACHE_HOST=localhost
CODESAGE_REDIS_CACHE_PORT=6379
CODESAGE_ENABLE_ADVANCED_ANALYTICS=true
CODESAGE_ANALYTICS_RETENTION_DAYS=90

# =================================================================
# INTEGRATION SETTINGS
# =================================================================

# Gemini CLI Integration (Enterprise)
CODESAGE_MCP_SERVER_NAME=codesage-enterprise
CODESAGE_MCP_SERVER_URL=https://codesage-enterprise.yourdomain.com

# External Integrations
CODESAGE_ENABLE_PROMETHEUS_METRICS=true
CODESAGE_PROMETHEUS_PUSHGATEWAY_URL=
CODESAGE_ENABLE_GRAFANA_INTEGRATION=true
CODESAGE_GRAFANA_URL=http://grafana:3000

# =================================================================
# HIGH-PERFORMANCE NOTES
# =================================================================
# - This configuration is optimized for maximum performance
# - Requires significant system resources (4GB+ RAM, 8+ CPU cores)
# - Enables all advanced optimization features
# - Comprehensive monitoring and analytics
# - Enterprise-grade security and reliability
#
# System Requirements:
# - CPU: 8+ cores recommended, 16+ cores optimal
# - RAM: 8GB+ recommended, 16GB+ optimal
# - Storage: High-speed SSD with 50GB+ free space
# - Network: 1Gbps+ connection for LLM APIs
#
# Performance Targets:
# - Response Time: <100ms for cached queries
# - Throughput: 1000+ requests per minute
# - Memory Efficiency: 90%+ cache hit rate
# - Availability: 99.9%+ uptime
#
# Monitoring Setup:
# - Real-time performance dashboards
# - Advanced alerting and anomaly detection
# - Distributed tracing
# - Predictive analytics
#
# For different performance profiles, see:
# - config/templates/production.env (balanced)
# - config/templates/memory-constrained.env (efficiency)
# - config/templates/large-codebase.env (scale)